# ShiftMaster 技術仕様書

## 概要
このディレクトリには、ShiftMaster（シフト管理システム）の包括的な技術仕様書が含まれています。経験の浅い開発者でも段階的に実装できるよう、詳細に設計されています。

## 仕様書一覧

### `/specifications/` フォルダ

| 番号 | ファイル名 | 内容 | 対象者 |
|------|------------|------|--------|
| 01 | [PRD_要件定義書.md](./specifications/01_PRD_要件定義書.md) | プロダクト要件定義・MVP・KPI | PM・開発チーム全体 |
| 02 | [ユーザーストーリー_受け入れ基準.md](./specifications/02_ユーザーストーリー_受け入れ基準.md) | 15のユーザーストーリーと受け入れ基準 | 開発者・QA |
| 03 | [画面遷移_情報設計書.md](./specifications/03_画面遷移_情報設計書.md) | 画面設計・ルーティング・UI仕様 | フロントエンド開発者 |
| 04 | [データモデル設計書.md](./specifications/04_データモデル設計書.md) | PostgreSQL DB設計・RLS・インデックス | バックエンド開発者・DBA |
| 05 | [API仕様書.md](./specifications/05_API仕様書.md) | REST API・エンドポイント・型定義 | バックエンド開発者 |
| 06 | [非機能要件定義書.md](./specifications/06_非機能要件定義書.md) | 性能・セキュリティ・スケーラビリティ | インフラ・開発リーダー |
| 07 | [テスト計画書.md](./specifications/07_テスト計画書.md) | 単体・統合・E2E・性能テスト | QA・開発者 |
| 08 | [運用・保守マニュアル.md](./specifications/08_運用・保守マニュアル.md) | 本番運用・監視・障害対応 | 運用チーム・SRE |

## 技術スタック

### フロントエンド
- **フレームワーク**: Next.js 14 (App Router)
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS
- **コンポーネント**: shadcn/ui
- **状態管理**: Zustand
- **デプロイ**: Vercel

### バックエンド
- **データベース**: PostgreSQL (Supabase)
- **認証**: Supabase Auth
- **API**: Next.js API Routes + Supabase Edge Functions
- **ORM**: Prisma
- **AI**: Google Gemini API

### インフラ・運用
- **ホスティング**: Vercel
- **データベース**: Supabase
- **ストレージ**: Supabase Storage
- **監視**: Vercel Analytics + Sentry
- **決済**: Stripe

## 開発の進め方

### Phase 1: 基盤構築（2週間）
1. **環境構築**
   - Next.js プロジェクト作成
   - Supabase プロジェクト作成
   - 04_データモデル設計書.md を参考にDB構築

2. **認証基盤**
   - Supabase Auth 設定
   - 招待トークンベース認証実装
   - RLS (Row Level Security) 設定

### Phase 2: コア機能実装（4週間）
3. **従業員管理**
   - 02_ユーザーストーリー_受け入れ基準.md のUS-1, US-2
   - 招待システム・QRコード生成
   - 05_API仕様書.md の従業員管理API

4. **勤怠管理**
   - US-3, US-4: 位置情報付き打刻
   - US-5: 勤怠記録確認・修正
   - 03_画面遷移_情報設計書.md の勤怠関連画面

### Phase 3: シフト管理（2週間）
5. **シフト機能**
   - US-6, US-7: シフト希望提出
   - US-8, US-9: AI シフト生成
   - US-10: シフト確認・調整

### Phase 4: 管理機能（1週間）
6. **管理者機能**
   - US-11, US-12: 店舗設定
   - US-13, US-14, US-15: 高度な管理機能

### Phase 5: テスト・運用準備（1週間）
7. **品質保証**
   - 07_テスト計画書.md に基づくテスト実行
   - 06_非機能要件定義書.md の性能・セキュリティ要件達成
   - 08_運用・保守マニュアル.md に基づく運用準備

## 開発時の注意事項

### 必読ドキュメント順序
新しい開発者は以下の順序で仕様書を読むことを推奨：

1. **01_PRD_要件定義書.md** - システム全体理解
2. **04_データモデル設計書.md** - データ構造理解
3. **03_画面遷移_情報設計書.md** - UI/UX理解
4. **02_ユーザーストーリー_受け入れ基準.md** - 実装要件理解
5. **05_API仕様書.md** - API実装詳細

### コーディング規約
- **TypeScript**: 厳密な型定義必須
- **コンポーネント**: 再利用性を考慮した設計
- **API**: RESTful 設計原則遵守
- **テスト**: 80%以上のカバレッジ維持
- **セキュリティ**: 入力検証・認可チェック必須

### デプロイ・運用
- **CI/CD**: GitHub Actions による自動デプロイ
- **環境**: Development → Staging → Production
- **監視**: 24時間体制での稼働監視
- **バックアップ**: 日次自動バックアップ

## サポート・質問

### 開発サポート
- **仕様書の疑問**: 各仕様書内の関連ドキュメント参照
- **実装の質問**: コードレビューでの相談推奨
- **運用問題**: 08_運用・保守マニュアル.md 参照

### ドキュメント更新
- 仕様変更時は対応する仕様書を同時更新
- 実装時に発見した課題は仕様書にフィードバック
- 定期的な仕様書レビューを実施

---

**作成日**: 2025年2月13日  
**最終更新**: 2025年2月13日  
**バージョン**: 1.0.0